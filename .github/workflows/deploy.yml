name: Deploy to Production

# 
# ⚠️ 注意：此 workflow 已禁用自动部署
# 
# 推荐使用本地构建部署方式，避免生产服务器 CPU 过载：
# bash scripts/deploy-local-build.sh
#
# 如需启用 GitHub Actions 自动部署，请：
# 1. 取消下方 push 触发器的注释
# 2. 确保 GitHub Secrets 已配置 ALIYUN_HOST 和 ALIYUN_SSH_KEY
#

on:
  # push:
  #   branches: [main]
  #   tags: ['v*']
  workflow_dispatch:  # 保留手动触发选项

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Deployment Notice
        run: |
          echo "=========================================="
          echo "⚠️  请使用本地构建部署方式"
          echo "=========================================="
          echo ""
          echo "推荐部署方法（避免生产服务器 CPU 过载）："
          echo ""
          echo "  bash scripts/deploy-local-build.sh"
          echo ""
          echo "此脚本会："
          echo "  1. 在开发机器上构建 Next.js"
          echo "  2. 打包并传输构建产物到生产服务器"
          echo "  3. 在生产服务器上解压并重启服务"
          echo ""
          echo "生产服务器 CPU 占用 < 10%"
          echo "=========================================="
