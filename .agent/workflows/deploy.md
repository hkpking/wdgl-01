---
description: éƒ¨ç½²åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆæœ¬åœ°æ„å»ºæ–¹å¼ï¼Œé¿å…ç”Ÿäº§æœåŠ¡å™¨ CPU è¿‡è½½ï¼‰
---

# éƒ¨ç½²å·¥ä½œæµ

## æ•æ„Ÿä¿¡æ¯è®¿é—®æˆæƒ

> å½“ç”¨æˆ·è¯·æ±‚éƒ¨ç½²æ—¶ï¼Œé»˜è®¤æˆæƒè®¿é—® `.agent/secrets/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼š
> - `.agent/secrets/environment.md` - ç¯å¢ƒé…ç½®ï¼ˆIPã€ç«¯å£ã€éƒ¨ç½²è·¯å¾„ç­‰ï¼‰

## éƒ¨ç½²æ–¹å¼

**æ¨èä½¿ç”¨æœ¬åœ°æ„å»ºéƒ¨ç½²è„šæœ¬**ï¼Œé¿å…åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šæ‰§è¡Œ CPU å¯†é›†å‹æ„å»ºæ“ä½œã€‚

// turbo-all

```bash
bash /home/dev/Desktop/wdgl-01/scripts/deploy-local-build.sh
```

## å·¥ä½œåŸç†

1. **åœ¨å¼€å‘æœºå™¨ä¸Šæ„å»º** - `npm run build` åœ¨å¼€å‘æœåŠ¡å™¨æ‰§è¡Œ
2. **æ‰“åŒ…æ„å»ºäº§ç‰©** - å°† `.next` ç›®å½•æ‰“åŒ…ä¸º tar.gz
3. **ä¼ è¾“åˆ°ç”Ÿäº§æœåŠ¡å™¨** - ä½¿ç”¨ scp ä¼ è¾“ï¼ˆçº¦ 78MBï¼‰
4. **è¿œç¨‹è§£å‹å¹¶é‡å¯** - è§£å‹äº§ç‰© + `npm ci --omit=dev` + `pm2 restart`

## ä¼˜åŠ¿

- ğŸŸ¢ ç”Ÿäº§æœåŠ¡å™¨ CPU å ç”¨ < 10%
- ğŸŸ¢ éƒ¨ç½²æ›´å¿«æ›´å¯é 
- ğŸŸ¢ ä¸ä¼šå› èµ„æºä¸è¶³å¯¼è‡´éƒ¨ç½²å¤±è´¥

## éƒ¨ç½²åéªŒè¯

1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
ssh root@120.79.181.206 "pm2 list"
```

2. æŸ¥çœ‹åº”ç”¨æ—¥å¿—
```bash
ssh root@120.79.181.206 "pm2 logs wdgl-nextjs --lines 20"
```

3. è®¿é—®åº”ç”¨éªŒè¯ï¼š`https://120.79.181.206`
